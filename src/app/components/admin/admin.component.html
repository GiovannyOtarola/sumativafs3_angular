<div class="container mt-5">
  <!-- Cerrar sesión -->
  <div class="text-end mb-4">
    <button (click)="logout()" class="btn btn-danger">Cerrar sesión</button>
  </div>

  <!-- Editar usuario -->
  <div *ngIf="editingUser">
    <h2 class="mb-4">Editar Usuario</h2>
    <form [formGroup]="editUserForm" (ngSubmit)="updateUser()">
      <div class="mb-3">
        <label for="nombre" class="form-label">Nombre de usuario</label>
        <input id="nombre" formControlName="nombre" class="form-control" />
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Contraseña</label>
        <input id="password" formControlName="password" type="password" class="form-control" />
      </div>
      <div class="mb-3">
        <label for="rol" class="form-label">Rol</label>
        <select id="rol" formControlName="rol" class="form-select">
          <option value="admin">admin</option>
          <option value="user">user</option>
        </select>
      </div>
      <div class="d-flex justify-content-between">
        <button type="submit" class="btn btn-primary">Actualizar Usuario</button>
        <button type="button" (click)="cancelEdit()" class="btn btn-secondary">Cancelar</button>
      </div>
    </form>

    <!-- Mensajes de éxito y error -->
    <div *ngIf="successMessage" class="alert alert-success mt-3">
      {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      {{ errorMessage }}
    </div>
  </div>

  <!-- Tabla de usuarios -->
  <h2 class="mt-5">Usuarios</h2>
  <table class="table table-striped mt-3">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Rol</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user.id }}</td>
        <td>{{ user.nombre }}</td>
        <td>{{ user.rol }}</td>
        <td>
          <button (click)="editUser(user)" class="btn btn-warning btn-sm">Editar</button>
          <button (click)="deleteUser(user)" class="btn btn-danger btn-sm">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>